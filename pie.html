<!DOCTYPE html>
<html>
<head>
	<title>test ExtJS</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="lib/extjs/resources/css/ext-all.css">
	<script type="text/javascript" src="lib/extjs/ext-all.js"></script>

	<style type="text/css">
		.wrapper{width: 1000px; margin: 0 auto;}
		/* set mask */
		.x-mask{background-color: #000;}
	</style>
</head>
<body>




<script type="text/javascript">
/*Ext.Loader.setConfig({
    enabled: true
});



Ext.onReady(function(){

	var store = Ext.create('Ext.data.JsonStore', {
    fields: ['name', 'data'],
    data: [
        { 'name': 'metric one',   'data': 10 },
        { 'name': 'metric two',   'data':  7 },
        { 'name': 'metric three', 'data':  5 },
        { 'name': 'metric four',  'data':  2 },
        { 'name': 'metric five',  'data': 27 }
    ]
});

Ext.create('Ext.chart.Chart', {
    renderTo: Ext.getBody(),
    width: 500,
    height: 350,
    animate: true,
    store: store,
    theme: 'Base:gradients',
    legend: { position: 'right' },
    series: [{
        type: 'pie',
        angleField: 'data',
        // showInLegend: true,
        tips: {
            trackMouse: true,
            width: 140,
            height: 28,
            renderer: function(storeItem, item) {
                // calculate and display percentage on hover
                var total = 0;
                store.each(function(rec) {
                    total += rec.get('data');
                });
                this.setTitle(storeItem.get('name') + ': ' + Math.round(storeItem.get('data') / total * 100) + '%');
            }
        },
        // highlight: {
        //     segment: {
        //         margin: 20
        //     }
        // },
        label: {
            field: 'name',
            display: 'rotate',
            contrast: true,
            font: '18px Arial'
        }
    }]
});
});*/

Ext.onReady(function () {
    var dataStore = new Ext.data.JsonStore({
        fields: ['Month', 'rate'],
        data: [
            { "Num": "12", "Month": "2013-1", "MaxPeopleNum": "100", "Region": "30", "rate": "88" },
            { "Num": "12", "Month": "2013-2", "MaxPeopleNum": "100", "Region": "30", "rate": "88" },
            { "Num": "12", "Month": "2013-3", "MaxPeopleNum": "100", "Region": "30", "rate": "88" }
        ]
    });



    Ext.create('Ext.panel.Panel', {
        title: '员工年龄分布图',
        id:'chart',
        width: 400,
        height: 400,
        renderTo: Ext.getBody(),
        layout: 'fit',
        items: [
            {
                xtype: 'chart',
                id:'chartA',
                store: dataStore,
                axes: [
                    { type: 'Numeric', position: 'left', minimum: 0, maximum: 100, title: '百分比' },
                    { id:'cc', type: 'Category', position: 'bottom', fields: ['Month'], title: '地区' }
                ],
                legend: { position: 'top' },
                series: [
                 {
                     type: 'column', yField: ['rate'], title: ['空岗率'], label: {
                         field: ['rate'],
                         display: 'outside',
                         font: '18px "Lucida Grande"',
                         renderer: function (v) {
                             return v + '%';
                         }
                     }
                 }
                ]
            }


        ]
    });
    var c1 = Ext.getCmp('chart').getComponent(0).axes.items[1];
    c1.setTitle('test');
    var c11 = Ext.getCmp('chartA').axes;
    console.log(c11);


});
</script>
</body>
</html>